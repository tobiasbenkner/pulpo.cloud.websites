---
import SectionHeader from "../../ui/SectionHeader.astro";
import team from "@/assets/team.webp";
import { Image } from "astro:assets";

type Props = {
  chapter: string;
  title: string;
  content: string;
  footer: string;
};

const { chapter, title, content, footer } = Astro.props;
---

<section class="bg-background py-24 px-6 relative overflow-hidden">
  <div class="max-w-7xl mx-auto">
    <!-- Header -->
    <div class="mb-16 text-center">
      <SectionHeader title={title} align="center" />
    </div>

    <div class="grid grid-cols-1 lg:grid-cols-2 gap-16 lg:gap-24 items-start">
      <!-- Seite 1: Das Bild -->
      <div class="relative w-full max-w-md mx-auto aspect-3/4">
        <!-- Rahmen 1 (Innen): Gold, aber dezenter (20% Opacity) -->
        <div
          class="absolute inset-4 border border-amber-200/20 z-20 pointer-events-none"
        >
        </div>

        <!-- Rahmen 2 (Außen): Sehr subtil (10% Opacity) -->
        <div
          class="absolute inset-0 border border-amber-200/10 z-20 pointer-events-none translate-x-3 translate-y-3"
        >
        </div>

        <div class="w-full h-full overflow-hidden relative">
          <Image
            src={team}
            alt="Team El Búho Tuerto"
            class="w-full h-full object-cover opacity-90"
          />
          <div
            class="absolute inset-0 bg-[radial-gradient(circle,transparent_40%,rgba(10,10,10,0.8)_100%)] z-10"
          >
          </div>
        </div>
      </div>

      <!-- Seite 2: Der Text -->
      <div class="relative">
        <div
          class="prose-book text-gray-300 font-serif italic text-lg leading-relaxed text-justify relative z-10"
        >
          <p set:html={content} />
        </div>

        <!-- Trennlinie unten -->
        <div
          class="mt-12 flex flex-col items-center gap-4 border-t border-white/10 pt-8"
        >
          <div class="text-amber-200/40 text-2xl">❦</div>
          <p
            class="text-white uppercase tracking-[0.3em] text-xs font-bold text-center"
          >
            {footer}
          </p>
        </div>
      </div>
    </div>
  </div>
</section>

<style>
  .prose-book {
    position: relative;
  }
  .prose-book :global(.first-phrase) {
    font-variant: small-caps;
    letter-spacing: 0.1em;
    font-style: normal;
    color: white;
    font-weight: 600;
  }
  .prose-book :global(p::first-letter) {
    float: left;
    font-size: 5.5rem;
    line-height: 0.75;
    margin-top: 0.1em;
    padding-right: 0.15em;
    font-weight: 400;
    color: rgb(253, 230, 138); /* amber-200 */
    font-style: normal;
  }
</style>
