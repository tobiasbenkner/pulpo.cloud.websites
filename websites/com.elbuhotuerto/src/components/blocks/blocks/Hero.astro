---
import type { ImageMetadata } from "astro";
import { Image } from "astro:assets";

type Props = {
  title?: string;
  subtitle?: string;
  logo?: ImageMetadata;
  video?: string;
  links?: { href: string; label: string }[];
  background?: string;
};

const {
  title,
  subtitle,
  links = [],
  logo,
  video = "/hero.mp4",
  background,
} = Astro.props;
---

<section
  class="relative w-full overflow-hidden flex items-center justify-center bg-background"
  style="height: calc(100svh - 64px);"
>
  <div class="absolute inset-0 z-0">
    {
      !!video ? (
        <video
          class="w-full h-full object-cover opacity-70"
          src={video}
          autoplay
          muted
          loop
          playsinline
        />
      ) : (
        <div
          class="w-full h-full bg-cover bg-center opacity-70"
          style={{
            backgroundImage: background ? `url("${background}")` : undefined,
          }}
        />
      )
    }

    <div
      class="absolute inset-0 bg-linear-to-b from-black/50 via-transparent to-black/80"
    >
    </div>
  </div>

  <!-- Content Layer -->
  <div class="relative z-10 w-full max-w-4xl px-6 text-center -mt-20 md:-mt-24">
    <div class="animate-fade-in">
      {
        logo && (
          <div class="mb-8 drop-shadow-2xl">
            <Image
              src={logo}
              width={1000}
              height={1000}
              alt="Logo"
              class="h-auto w-full mx-auto max-w-64 md:max-w-md brightness-110"
            />
          </div>
        )
      }

      {
        title && (
          <h1 class="text-4xl md:text-7xl font-light tracking-tight text-white mb-4 uppercase">
            {title}
          </h1>
        )
      }

      {
        subtitle && (
          <p class="text-xl md:text-2xl text-gray-200 font-serif italic tracking-wide mb-10 max-w-2xl mx-auto leading-relaxed drop-shadow-sm">
            {subtitle}
          </p>
        )
      }

      {
        links && links.length > 0 && (
          <div class="flex justify-center mt-8">
            {links.map((link) => (
              <a
                href={link.href}
                class="group relative inline-block px-10 py-4 overflow-hidden border border-white/30 rounded-sm transition-all duration-500 hover:border-white"
              >
                <span class="relative z-10 text-xs md:text-sm font-medium tracking-[0.3em] text-white uppercase transition-colors duration-500">
                  {link.label}
                </span>
                <div class="absolute inset-0 z-0 bg-white/10 translate-y-full transition-transform duration-500 ease-out group-hover:translate-y-0" />
              </a>
            ))}
          </div>
        )
      }
    </div>
  </div>

  <!-- Scroll Down Indikator -->
  <div
    class="absolute bottom-8 left-1/2 -translate-x-1/2 animate-bounce opacity-40 z-20"
  >
    <div class="w-px h-16 bg-linear-to-b from-white to-transparent"></div>
  </div>
</section>

<style>
  .animate-fade-in {
    animation: fadeIn 1.8s cubic-bezier(0.22, 1, 0.36, 1) forwards;
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(30px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
</style>
