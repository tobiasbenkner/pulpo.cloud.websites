---
// src/components/Navbar.astro
import { Image } from "astro:assets";
import { Icon } from "astro-icon/components";
import logoImage from "../assets/logo.png";

interface Props {
  lang: string;
  t: any;
}

const { lang, t } = Astro.props;

// Hilfsfunktion für Home-Link: Wenn wir nicht auf ES sind, fügen wir den Lang-Prefix hinzu
const homeLink = lang === "es" ? "/" : `/${lang}`;
---

<nav class="fixed w-full z-50 glass-panel-dark transition-all duration-300">
  <div class="max-w-7xl mx-auto px-6 py-3 flex justify-between items-center">
    <!-- Logo Link -->
    <a href={homeLink} class="block hover:opacity-80 transition-opacity">
      <Image
        src={logoImage}
        alt="VibraDance Academy Logo"
        class="h-12 w-auto object-contain"
        loading="eager"
      />
    </a>

    <!-- Main Menu -->
    <div
      class="hidden md:flex gap-10 text-xs font-medium tracking-widest uppercase text-vibra-text-main"
    >
      <a href="#schedule" class="hover:text-vibra-teal transition-colors"
        >{t.nav.schedule}</a
      >
      <a href="#teachers" class="hover:text-vibra-teal transition-colors"
        >{t.nav.teachers}</a
      >
      <a href="#classes" class="hover:text-vibra-teal transition-colors"
        >{t.nav.classes}</a
      >
      <a href="#contact" class="hover:text-vibra-teal transition-colors"
        >{t.nav.contact}</a
      >
    </div>

    <!-- Language Switcher -->
    <div class="flex gap-4 items-center">
      <a href="/" aria-label="Español" class={`block rounded-full transition-opacity ${lang === "es" ? "ring-1 ring-vibra-teal ring-offset-2 ring-offset-transparent" : "opacity-40 hover:opacity-100"}`}>
        <Icon name="circle-flags:es" size={28} />
      </a>
      <a href="/en" aria-label="English" class={`block rounded-full transition-opacity ${lang === "en" ? "ring-1 ring-vibra-teal ring-offset-2 ring-offset-transparent" : "opacity-40 hover:opacity-100"}`}>
        <Icon name="circle-flags:gb" size={28} />
      </a>
      <a href="/de" aria-label="Deutsch" class={`block rounded-full transition-opacity ${lang === "de" ? "ring-1 ring-vibra-teal ring-offset-2 ring-offset-transparent" : "opacity-40 hover:opacity-100"}`}>
        <Icon name="circle-flags:de" size={28} />
      </a>
    </div>
  </div>
</nav>
