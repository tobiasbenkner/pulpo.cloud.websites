---
interface Props {
  t: any;
}
const { t } = Astro.props;
---

<section class="py-32 px-6 bg-vibra-bg">
  <div class="max-w-5xl mx-auto">
    <div class="grid md:grid-cols-5 gap-12 items-center">
      <div class="md:col-span-2 order-2 md:order-1">
        <h2 class="text-3xl md:text-4xl mb-6 font-display italic">
          {t.video.title}
        </h2>
        <p class="text-vibra-text-muted leading-relaxed">
          {t.video.desc}
        </p>
      </div>

      <div class="md:col-span-3 order-1 md:order-2">
        <div
          class="bg-[#14142a] shadow-luxury overflow-hidden relative h-[70vh]"
          id="video-container"
        >
          <video
            id="hektor-video"
            autoplay
            loop
            muted
            playsinline
            webkit-playsinline
            preload="auto"
            class="w-full h-full object-contain block"
          >
            <source src="/hektor.mp4" type="video/mp4" />
          </video>
          <button
            id="unmute-btn"
            type="button"
            aria-label="Toggle sound"
            class="absolute bottom-4 right-4 bg-black/50 backdrop-blur-sm border border-white/10 text-white w-10 h-10 flex items-center justify-center hover:bg-white/20 transition-colors"
          >
            <svg
              id="icon-muted"
              xmlns="http://www.w3.org/2000/svg"
              width="18"
              height="18"
              fill="currentColor"
              viewBox="0 0 16 16"
            >
              <path
                d="M6.717 3.55A.5.5 0 0 1 7 4v8a.5.5 0 0 1-.812.39L3.825 10.5H1.5A.5.5 0 0 1 1 10V6a.5.5 0 0 1 .5-.5h2.325l2.363-1.89a.5.5 0 0 1 .529-.06z"
              ></path>
              <path
                d="M11.354 5.354a.5.5 0 1 0-.708-.708L9 6.293 7.354 4.646a.5.5 0 1 0-.708.708L8.293 7 6.646 8.646a.5.5 0 0 0 .708.708L9 7.707l1.646 1.647a.5.5 0 0 0 .708-.708L9.707 7l1.647-1.646z"
                transform="translate(2 0)"></path>
            </svg>
            <svg
              id="icon-unmuted"
              class="hidden"
              xmlns="http://www.w3.org/2000/svg"
              width="18"
              height="18"
              fill="currentColor"
              viewBox="0 0 16 16"
            >
              <path
                d="M11.536 14.01A8.473 8.473 0 0 0 14.026 8a8.473 8.473 0 0 0-2.49-6.01l-.708.707A7.476 7.476 0 0 1 13.025 8c0 2.071-.84 3.946-2.197 5.303l.708.707z"
              ></path>
              <path
                d="M10.121 12.596A6.48 6.48 0 0 0 12.025 8a6.48 6.48 0 0 0-1.904-4.596l-.707.707A5.483 5.483 0 0 1 11.025 8a5.483 5.483 0 0 1-1.61 3.89l.706.706z"
              ></path>
              <path
                d="M8.707 11.182A4.486 4.486 0 0 0 10.025 8a4.486 4.486 0 0 0-1.318-3.182L8 5.525A3.489 3.489 0 0 1 9.025 8 3.49 3.49 0 0 1 8 10.475l.707.707zM6.717 3.55A.5.5 0 0 1 7 4v8a.5.5 0 0 1-.812.39L3.825 10.5H1.5A.5.5 0 0 1 1 10V6a.5.5 0 0 1 .5-.5h2.325l2.363-1.89a.5.5 0 0 1 .529-.06z"
              ></path>
            </svg>
          </button>
        </div>
      </div>
    </div>
  </div>
</section>

<script>
  const video = document.getElementById("hektor-video") as HTMLVideoElement;
  const btn = document.getElementById("unmute-btn")!;
  const iconMuted = document.getElementById("icon-muted")!;
  const iconUnmuted = document.getElementById("icon-unmuted")!;

  btn.addEventListener("click", () => {
    video.muted = !video.muted;
    iconMuted.classList.toggle("hidden", !video.muted);
    iconUnmuted.classList.toggle("hidden", video.muted);
  });
</script>
