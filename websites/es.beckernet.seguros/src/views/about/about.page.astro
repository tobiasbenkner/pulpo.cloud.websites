---
import { Image } from "astro:assets";
import Container from "@/components/ui/Container.astro";
import PageHeader from "@/components/ui/PageHeader.astro";
import { Icon } from "astro-icon/components";
import type { AboutTranslations } from "./about.i18n";
import { getTranslatedPath } from "@/lib/registry";
import type { Language } from "@/lib/i18n";
import aboutImage from "@/assets/about-collage.webp";

interface Props {
  lang: Language;
  t: AboutTranslations;
}

const { t, lang } = Astro.props;
---

<PageHeader
  label={t.hero.label}
  title={t.hero.headline}
  description={t.seo.description}
/>

<section class="py-12 md:py-16 lg:py-20">
  <Container>
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-10 md:gap-12 lg:gap-16 items-center">
      <!-- Image -->
      <div class="order-2 lg:order-1">
        <div class="rounded-sm overflow-hidden border border-border">
          <Image
            src={aboutImage}
            alt="Becker Insurance Broker Team"
            class="w-full h-auto"
          />
        </div>
      </div>

      <!-- Text -->
      <div class="order-1 lg:order-2">
        <p
          class="text-lg md:text-xl lg:text-2xl text-text-muted leading-relaxed first-letter:text-4xl md:first-letter:text-6xl first-letter:font-serif first-letter:text-secondary first-letter:mr-2 md:first-letter:mr-3 first-letter:float-left"
          set:html={t.story.text}
        />
      </div>
    </div>
  </Container>
</section>

<!-- Values Section -->
<section class="py-12 md:py-16 lg:py-20 border-t border-border bg-surface/20">
  <Container>
    <h2
      class="text-2xl md:text-3xl font-serif text-white mb-10 md:mb-12 text-center"
    >
      {t.values.title}
    </h2>

    <div
      class="grid grid-cols-1 md:grid-cols-3 gap-8 md:gap-10 lg:gap-12 text-center max-w-4xl mx-auto"
    >
      <!-- Trust -->
      <div class="group">
        <Icon
          name="lucide:handshake"
          class="w-8 md:w-10 h-8 md:h-10 text-secondary mb-4 mx-auto group-hover:text-white transition-colors"
        />
        <h3
          class="text-base md:text-lg font-bold mb-2 text-primary uppercase tracking-wider"
        >
          {t.values.trust.title}
        </h3>
        <p class="text-sm md:text-base text-text-muted leading-relaxed">
          {t.values.trust.desc}
        </p>
      </div>

      <!-- Personalized -->
      <div class="group">
        <Icon
          name="lucide:user-check"
          class="w-8 md:w-10 h-8 md:h-10 text-secondary mb-4 mx-auto group-hover:text-white transition-colors"
        />
        <h3
          class="text-base md:text-lg font-bold mb-2 text-primary uppercase tracking-wider"
        >
          {t.values.personalized.title}
        </h3>
        <p class="text-sm md:text-base text-text-muted leading-relaxed">
          {t.values.personalized.desc}
        </p>
      </div>

      <!-- Proximity -->
      <div class="group">
        <Icon
          name="lucide:heart"
          class="w-8 md:w-10 h-8 md:h-10 text-secondary mb-4 mx-auto group-hover:text-white transition-colors"
        />
        <h3
          class="text-base md:text-lg font-bold mb-2 text-primary uppercase tracking-wider"
        >
          {t.values.proximity.title}
        </h3>
        <p class="text-sm md:text-base text-text-muted leading-relaxed">
          {t.values.proximity.desc}
        </p>
      </div>
    </div>
  </Container>
</section>

<!-- Simple CTA -->
<section class="py-16 md:py-24 lg:py-32 border-t border-border">
  <Container class="text-center">
    <h2 class="mb-8 md:mb-10 font-serif text-3xl md:text-4xl lg:text-5xl">
      {t.cta.text}
    </h2>
    <a
      href={getTranslatedPath("contact", lang)}
      class="inline-block border border-secondary text-secondary px-8 md:px-10 py-3 md:py-4 text-xs md:text-sm font-bold tracking-widest uppercase hover:bg-secondary hover:text-background transition-all duration-300"
    >
      {t.cta.button}
    </a>
  </Container>
</section>
